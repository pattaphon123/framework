CREATE SCHEMA IF NOT EXISTS `envilink-stg-data-platform`.`standardized` OPTIONS(location="asia-southeast1");

CREATE TABLE IF NOT EXISTS `envilink-stg-data-platform`.`standardized`.`dpmaalert`
(
    airQualityDataHourly_stationId STRING,
    airQualityDataHourly_time TIMESTAMP,
    airQualityDataHourly_pM25 FLOAT64,
    airQualityDataHourly_pM10 FLOAT64,
    airQualityDataHourly_pM1 FLOAT64,
    airQualityDataHourly_o3 FLOAT64,
    airQualityDataHourly_nO2 FLOAT64,
    airQualityDataHourly_ox FLOAT64,
    airQualityDataHourly_tsp FLOAT64,
    airQualityDataHourly_temperature FLOAT64,
    airQualityDataHourly_dewPoint FLOAT64,
    airQualityDataHourly_relativeHumidity FLOAT64,
    station_latitude     FLOAT64,
    station_longitude    FLOAT64,
    station_province_id  STRING,
    station_province_name STRING,
    airQualityDataHourly_id STRING,
    station_id           STRING,
    station_name         STRING,
    station_location     STRING,
    station_contactName  STRING,
    station_contactPhone STRING,
    station_simCardNumber STRING,
    station_installationEngineer STRING,
    station_installationDate TIMESTAMP,
    station_siteAddress  STRING,
    station_loggerNetReference STRING,
    station_image        STRING,
    station_updateBy     STRING,
    station_updateTime   TIMESTAMP,
    station_provinceId   STRING,
    station_amphoeId     STRING,
    station_tambonId     STRING,
    station_code         STRING,
    station_displayName  STRING,
    station_remark       STRING,
    station_amphoe       STRING,
    station_tambon       STRING,
    station_isDeleted    BOOL,
    station_deleterId    STRING,
    station_deletionTime TIMESTAMP,
    station_lastModificationTime TIMESTAMP,
    station_lastModifierId STRING,
    station_creationTime TIMESTAMP,
    station_creatorId    STRING,
    station_province_geoCode STRING,
    station_province_region STRING,
    station_province_regionId STRING,
    station_province_latitude FLOAT64,
    station_province_longitude FLOAT64,
    station_province_nameEN STRING,
    station_province_isDeleted BOOL,
    station_province_deleterId STRING,
    station_province_deletionTime TIMESTAMP,
    station_province_lastModificationTime TIMESTAMP,
    station_province_lastModifierId STRING,
    station_province_creationTime TIMESTAMP,
    station_province_creatorId STRING,
    stationDevice_name   STRING,
    stationDevice_serialNumber STRING,
    stationDevice_sensorType STRING,
    stationDevice_stationId STRING,
    stationDevice_simCardNumber STRING,
    stationDevice_installationEngineer STRING,
    stationDevice_installationDate TIMESTAMP,
    stationDevice_active BOOL,
    stationDevice_isDeleted BOOL,
    stationDevice_deleterId STRING,
    stationDevice_deletionTime TIMESTAMP,
    stationDevice_lastModificationTime TIMESTAMP,
    stationDevice_lastModifierId STRING,
    stationDevice_creationTime TIMESTAMP,
    stationDevice_creatorId STRING,
    stationDevice_id     STRING,
    itemStationDevice_name STRING,
    itemStationDevice_serialNumber STRING,
    itemStationDevice_sensorType STRING,
    itemStationDevice_stationId STRING,
    itemStationDevice_simCardNumber STRING,
    itemStationDevice_installationEngineer STRING,
    itemStationDevice_installationDate TIMESTAMP,
    itemStationDevice_active BOOL,
    itemStationDevice_isDeleted BOOL,
    itemStationDevice_deleterId STRING,
    itemStationDevice_deletionTime TIMESTAMP,
    itemStationDevice_lastModificationTime TIMESTAMP,
    itemStationDevice_lastModifierId STRING,
    itemStationDevice_creationTime TIMESTAMP,
    itemStationDevice_creatorId STRING,
    itemStationDevice_id STRING,
    province_geoCode     STRING,
    province_region      STRING,
    province_regionId    STRING,
    province_latitude    FLOAT64,
    province_longitude   FLOAT64,
    province_nameEN      STRING,
    province_isDeleted   BOOL,
    province_deleterId   STRING,
    province_deletionTime TIMESTAMP,
    province_lastModificationTime TIMESTAMP,
    province_lastModifierId STRING,
    province_creationTime TIMESTAMP,
    province_creatorId   STRING,
    province_id          STRING,
    stationFullname      STRING,
    data_date            DATE,
    load_timestamp       TIMESTAMP
)
PARTITION BY data_date
OPTIONS(
  require_partition_filter=true);
